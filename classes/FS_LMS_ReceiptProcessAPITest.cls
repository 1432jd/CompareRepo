@IsTest
public class FS_LMS_ReceiptProcessAPITest {
    @TestSetup
    public static void testSetup(){
        Id legalRecordTypeId = Schema.SObjectType.Property__c.getRecordTypeInfosByName().get('Legal Approval').getRecordTypeId();
        Id onlineECRecordTypeId = Schema.SObjectType.Property__c.getRecordTypeInfosByName().get('Online EC Property Detail').getRecordTypeId();
        Id FIVCRecordTypeId = Schema.SObjectType.Property__c.getRecordTypeInfosByName().get('FIV-C Property Detail').getRecordTypeId(); 
        Id PreloginRecordTypeId = Schema.SObjectType.Property__c.getRecordTypeInfosByName().get('Pre Login Property Detail').getRecordTypeId(); 
        
        Branch_Master__c branch_masterObj = new Branch_Master__c(
            Name = 'Aminjikarai',
            Branch_Code__c = 'TN001',
            Branch_category__c = 'NB',
            Region__c = 'Poonamallee',
            State__c = 'TN',
            Lms_Branch_Code__c = '5000633');
        insert branch_masterObj;
        
        Profile standardUserProfile = [SELECT Id FROM Profile WHERE Name='Standard User']; 
        User standardUser = new User(Alias = 'standt', Email='test@test.com', 
                          EmailEncodingKey='UTF-8', LastName='Testing', LanguageLocaleKey='en_US', 
                          LocaleSidKey='en_US', ProfileId = standardUserProfile.Id, 
                          TimeZoneSidKey='America/Los_Angeles', UserName='standarduserdeviationtest@testorg.com');
        insert standardUser;
        
        Pre_Login__c preLogin = new Pre_Login__c();
        preLogin.Status__c = 'Active';
        preLogin.RecordTypeId = Schema.getGlobalDescribe().get('Pre_Login__c').getDescribe().getRecordTypeInfosByName().get('1. New login').getRecordTypeId();
        insert preLogin;
        
        Application__c applicationObj = new Application__c(
            Pre_Login__c = preLogin.Id,
            Name = 'APP - 0625',
            AC_Decision__c = 'Approve',
            AC_Remarks__c = 'LOAN AMOUNT :  450LAKHS',
            AC_Submission_Date__c = Date.valueOf('2023-01-18'),
            Agreement_Execution_Status__c = 'Completed',
            Alternate_Channel_Mode__c = 'Brokers',
            Amount_Recommended__c = 440000,
            Balance_Transfer_Amount__c = 100000,
            Balance_Transfer__c = 'Individual',
            Borrower_s_Risk_Rating__c = 'Low',
            Channel__c = 'Alternate_Channel',
            Disbursal_Date__c = Date.valueOf('2022-06-01'),
            Comment_Remarks__c = '] No affiliations with persons as detailed in credit policy',
            Constitution__c = 'Individual',
            Customer_Communicated__c = 23.75,
            Customer_Segment__c = 'Salaried',
            Customer_Visit_date__c = Date.valueOf('2023-01-10'),
            DBR_PC__c = 49.03,
            DOS_Decision_Remarks__c = 'OK',
            DOS_Decision__c = 'Approved',
            DOS_Report_Finding_Observations__c = 'OK',
            DOS_Required__c = true,
            Date_of_legal_opinion__c = Date.valueOf('2021-01-01'),
            Disbursal_Author_Decision__c = 'Approve',
            Disbursement_Party_Name__c = 'ESAKKIMUTHU K',
            Disbursement_party__c = 'Disbursement Party Name',
            Discussion_done_with__c = 'TL',
            Effective_IRR__c = 24.54,
            File_Category__c = 'Normal',
            File_Type__c = 'Normal',
            Group_Valuation__c = 948840,
            HM__c = '500',
            Insurance_Premium__c = 4423,
            Job_Id__c = '1673262',
            KYC_Risk_Rating__c = 'Low',
            LMS_Response_Reference__c = '',
            Legal_Decision__c = 'Approved',
            Legal_Sanction_Condition__c = 'Original Doc No. 1685 / 2022 has to be collected.',
            Living_style__c = 'Good',
            Loan_Categorisation__c = 'Business',
            Loan_Purpose_2__c = 'Home Renovation /Improvement',
            MODT_Schedule__c = 'All that piece and parcel of land and building (if any) measuring an extent of 55 Sq.Mtr., bearing house no Old No.3/146, New No.3/291',
            MODT_Template__c = 'Normal',
            MODT_to_be_done_in_name_of__c = 'P',
            Mandate_Req_ID__c = 'APIAPP06252023118161418',
            Mortgage_property_Collateral_Value__c = 948840,
            Nach_Party_2__c = 'ISAISELVI E',
            Nach_Party__c = 'ESAKKIMUTHU K',
            Name__c = 'ESAKKIMUTHU K',
            Neighbour_feedback__c = 'Positive',
            Nominee_Party__c = 'ISAISELVI E',
            Nominee__c = 'Yes',
            Number_of_advance_EMI__c = '1',
            PC_Decision__c = 'Recommend',
            PC_Remarks__c = 'OK',
            //Primary_Applicant__c = 'a0qC20000009UIDIA2',
            Product_Type__c = 'LAP',
            //Recommended_AC_User__c = '005C2000000xG8nIAE',
            Registration_District__c = 'Tenkasi Joint I',
            Registration_URL__c = 'https://emandateuat.rblbank.com/enach/emandateuploadpage.aspx?ref=6wRfsmynaber9VIg%2FkAsNA%3D%3D&Mandatereqid=APIAPP06252023118161418',
            Requested_Loan_Amount__c = 450000,
            Risk_Document_Color__c = 'Green',
            Risk_Document__c = 'Green',
            SRO_Office__c = 'Tenkasi',
            Sanction_Amount_Restriction__c = 'No',
            Sanction_amount_restriction_upto__c = 450000,
            Scheme__c = 'FSBL Mortgage Loan',
            Sourcing_Branch__c = branch_masterObj.Id,
            Stage__c = 'Document Deferral',
            Take_Over__c = 'No',
            Tenor_In_Months__c = '84',
            Tenure_Requested__c = 84,
            Total_Net_Income__c = 22506,
            Tranche_Disbursal__c = 'Normal',
            Upload_date__c = Date.valueOf('2023-01-17'),
            application_status__c = 'Active',
            hasVerificationRecords__c = true,
            PC_Submission_Date__c = Date.valueOf('2023-01-18'),
            Disbursal_Author_Completion_Date__c = Date.valueOf('2023-01-18'),
            Disbursal_Maker_Completion_Date__c = Date.valueOf('2023-01-18'),
            Decision_Date_Time__c = DateTime.now(),
            Net_Income_Considered_Financial_Calc__c = 28886,
            Loan_Purpose__c = 'Personal Use',
            Customer_Disbursal_amount__c = 400000,
            GetRepayScheduleCalled__c = true,
            Nominee_Party_Relationship_with_Insured__c = 'Wife of',
            Loan_Type__c = 'FSBL Mortgage Loan',
            Loan_Purpose_1__c = 'Balance Transfer',
            Any_Approval_to_be_Obtained__c = 'No',
            Legal_Pending__c = 'No',
            Verified_UN_sanctions_list_and_no_match__c = true,
            Nominee_Relationship_Type__c = 'Blood Relative',
            Insurance_Requirement__c = 'DOGH',
            Insurance_Medical_Test_Result__c = 'Standard');
        insert applicationObj;
        
        MS_Pincode__c ms_pincodeObj = new MS_Pincode__c(
            Name = '627805',
            City_Code__c = '620',
            City__c = 'Tirunelveli',
            Pincode__c = '627805',
            StateName__c = 'Tamil Nadu',
            State_Code__c = 'TN',
            Place_Name__c = 'Tirunelveli-627805',
            LMS_State_Code__c = '5000030',
            LMS_Zip_Code__c = '5080308',
            LMS_City_Code__c = '5000620');
        insert ms_pincodeObj;
        
        Account ci = new account();
        ci.Name = 'Testname';
        insert ci;
        
        Loan_Applicant__c loan_applicantObj = new Loan_Applicant__c(
            Application__c = applicationObj.Id,
            Applicant_Type__c = 'Property Holder',
            Business_Address_Line_1__c = '291 KRISHNAN KOVIL STEET KOTTAKULAM TENKASI  TN',
            Business_Address_Line_2__c = 'TENKASI',
            Business_City__c = 'Tirunelveli',
            Business_Country__c = 'India',
            Business_Flat_Plot_Number__c = '291',
            Business_Pincode__c = ms_pincodeObj.Id,
            Business_State__c = 'Tamil Nadu',
            Business_Taluka__c = 'TENKASI',
            Business_Village__c = 'TENKASI',
            CKYC_ID_Number__c = '123456789',
            Communication_Address__c = 'Residence',
            Constitution__c = 'Individual',
            Created_From__c = 'Pre Login',
            Customer_Information__c = ci.id,
            Customer_Type__c = 'Primary Applicant',
            Income_Considered__c = 'Yes',
            Initiate_From__c = 'Prelogin',
            Is_Bureau_Verified__c = true,
            Is_KYC_Verified__c = true,
            Is_Lead_Detail_Done__c = true,
            KYC_ID_Type_1__c = 'Pan Card',
            KYC_ID_Type_2__c = 'Voter Id',
            KYC_Id_1__c = 'AFIPE9104N',
            KYC_Id_2__c = 'SSI0335380',
            LMS_Customer_Info_File_Number__c = 'GLBCUST00001056608',
            Marital_Status__c = 'Married',
            Married__c = 'Yes',
            Mobile_Verified__c = true,
            Mobile__c = '8428731590',
            Permanent_Address_Line_1__c = '291 KRISHNAN KOVIL STEET KOTTAKULAM TENKASI  TN',
            Permanent_Address_Line_2__c = 'TENKASI',
            Permanent_City__c = 'Tirunelveli',
            Permanent_Country__c = 'India',
            Permanent_Flat_Plot_Number__c = '291',
            Permanent_Pincode__c = ms_pincodeObj.Id,
            Permanent_State__c = 'Tamil Nadu',
            Permanent_Taluka__c = 'TENKASI',
            Permanent_Village__c = 'TENKASI',
            Residence_Address_Line_1__c = '291 KRISHNAN KOVIL STEET KOTTAKULAM TENKASI  TN',
            Residence_Address_Line_2__c = 'TENKASI',
            Residence_City__c = 'Tirunelveli',
            Residence_Country__c = 'India',
            Residence_Flat_Plot_Number__c = '291',
            Residence_Pincode__c = ms_pincodeObj.Id,
            Residence_State__c = 'Tamil Nadu',
            Residence_Taluka__c = 'TENKASI',
            Residence_Village__c = 'TENKASI',
            Resident_Type__c = 'Resident',
            Same_As_Address_Business__c = 'Residence Address',
            Same_As_Address_Pernament__c = 'Residence Address',
            Verification_Type__c = 'OCR',
            Relationship_With_Main_Applicant__c = 'Self',
            IsDedupeExecuted__c = true,
            Disbursal_CKYC_ID_Number_History__c = '123456789',
            Disbursal_CKYC_ID__c = '123456789',
            Business_Country_Code__c = 'IND',
            Marital_Status_Code__c = 'Married',
            Permanent_Country_Code__c = 'IND',
            Residence_Country_Code__c = 'IND');
        insert loan_applicantObj;
        
        Loan_Applicant__c loan_applicantObj2 = new Loan_Applicant__c(
            Application__c = applicationObj.Id,
            Applicant_Type__c = 'Property Holder',
            Business_Address_Line_1__c = 'NO‐291 KRISHNAN KOVIL STREET KOTTAKULAM TENKASI TN',
            Business_Address_Line_2__c = 'TENKASI',
            Business_City__c = 'Tirunelveli',
            Business_Country__c = 'India',
            Business_Flat_Plot_Number__c = 'NO‐291',
            Business_Pincode__c = ms_pincodeObj.Id,
            Business_State__c = 'Tamil Nadu',
            Business_Taluka__c = 'TENKASI',
            Business_Village__c = 'TENKASI',
            CKYC_ID_Number__c = '123456787',
            Communication_Address__c = 'Residence',
            Constitution__c = 'Individual',
            Created_From__c = 'Pre Login',
            Customer_Information__c = ci.id,
            Customer_Type__c = 'Co-Applicant',
            Income_Considered__c = 'Yes',
            Initiate_From__c = 'Prelogin',
            Is_Bureau_Verified__c = true,
            Is_KYC_Verified__c = true,
            Is_Lead_Detail_Done__c = true,
            KYC_ID_Type_1__c = 'Pan Card',
            KYC_ID_Type_2__c = 'Voter Id',
            KYC_Id_1__c = 'AIYPI5536R',
            KYC_Id_2__c = 'SSI0335968',
            LMS_Customer_Info_File_Number__c = 'GLBCUST00001056609',
            Marital_Status__c = 'Married',
            Married__c = 'Yes',
            Mobile_Verified__c = true,
            Mobile__c = '8428731590',
            Permanent_Address_Line_1__c = 'NO‐291 KRISHNAN KOVIL STREET KOTTAKULAM TENKASI TN',
            Permanent_Address_Line_2__c = 'TENKASI',
            Permanent_City__c = 'Tirunelveli',
            Permanent_Country__c = 'India',
            Permanent_Flat_Plot_Number__c = 'NO‐291',
            Permanent_Pincode__c = ms_pincodeObj.Id,
            Permanent_State__c = 'Tamil Nadu',
            Permanent_Taluka__c = 'TENKASI',
            Permanent_Village__c = 'TENKASI',
            Residence_Address_Line_1__c = 'NO‐291 KRISHNAN KOVIL STREET KOTTAKULAM TENKASI TN',
            Residence_Address_Line_2__c = 'TENKASI',
            Residence_City__c = 'Tirunelveli',
            Residence_Country__c = 'India',
            Residence_Flat_Plot_Number__c = 'NO‐291',
            Residence_Pincode__c = ms_pincodeObj.Id,
            Residence_State__c = 'Tamil Nadu',
            Residence_Taluka__c = 'TENKASI',
            Residence_Village__c = 'TENKASI',
            Resident_Type__c = 'Resident',
            Same_As_Address_Business__c = 'Residence Address',
            Same_As_Address_Pernament__c = 'Residence Address',
            Verification_Type__c = 'OCR',
            Relationship_With_Main_Applicant__c = 'Spouse',
            IsDedupeExecuted__c = true,
            Disbursal_CKYC_ID_Number_History__c = '123456787',
            Disbursal_CKYC_ID__c = '123456787',
            Business_Country_Code__c = 'IND',
            Marital_Status_Code__c = 'Married',
            Permanent_Country_Code__c = 'IND',
            Residence_Country_Code__c = 'IND');
        insert loan_applicantObj2;
        
        Disbursal__c disbursalObj1 = new Disbursal__c(
            //RecordTypeId = '012C20000003QvdIAE',
            Application__c = applicationObj.Id,
            Disbursal_Beneficiary_Type__c = 'Multiple',
            Disbursal_Maker_ID__c = 'EMP-0226',
            Disbursal_Type__c = 'Part Disb',
            Due_Date__c = Date.valueOf('2022-06-30'),
            FTR_Remarks_by_Author_OO_Responsibility__c = 'OK',
            FTR_Remarks_by_Maker_OO_Responsibility__c = 'OK',
            Final_Disbursal_Amount__c = 431512,
            First_Installment_Date__c = Date.valueOf('2022-07-30'),
            First_Time_Right_FTR__c = 'Yes',
            Interest_Start_Date__c = Date.valueOf('2022-06-30'),
            Monthly_Installment_EMI_Rs__c = 11034,
            Ops_Comment__c = 'OK',
            Sanctioned_Loan_Amount__c = 450000,
            Disbursal_Author_ID__c = standardUser.Id,
            Total_Deductions__c = 18488);
        insert disbursalObj1;
                
        MS_Scheme__c SchemeRecord = new MS_Scheme__c(Scheme_Code__c='LAP_BL',Product_Name__c = 'FSBL LAP Business Loan',
                                                     Cycle_Date_Type__c = 'Range');
        insert SchemeRecord;
        
        Verification__c verifi = new Verification__c();
        verifi.Name__c = 'Test';
        verifi.Status__c = 'Completed';
        verifi.RecordTypeId = Schema.SObjectType.Verification__c.getRecordTypeInfosByName().get('AC').getRecordTypeId();
        verifi.Application__c = applicationObj.Id;
        insert verifi;
        
        Property__c propertyObj = new Property__c(
            RecordTypeId = PreloginRecordTypeId,
            Address_Line_2__c = '291 KRISHNAN KOVIL STEET KOTTAKULAM TENKASI  TN',
            Address_Line_3__c = 'TENKASI',
            Address_Type__c = 'Property Address',
            Adopted_Value_Per_SqFt__c = 680,
            Age_Of_Property__c = 10,
            All_four_boundaries_mentioned_in_doc__c = 'Yes',
            Application__c = applicationObj.Id,
            BM_Comments_for_Collateral__c = 'OK',
            Boundaries_As_Per_Inspection_Are_Same__c = 'Yes',
            Boundries_Remarks__c = 'As per document & Physical North path way is available verified by field credit.',
            Building_Age__c = 15,
            Building_Area_Sq_Ft__c = 1,
            Building_Constructed_with_Remarks__c = 'Total Building Value : 272*450=rs.1,22,400',
            Building_Ownership__c = 'Self Constructed',
            Building_Type__c = 'RCC',
            Building_Value_per_Sq_ft__c = 800,
            Carpet_Area__c = '1',
            City__c = 'Tirunelveli',
            Collateral_Type__c = 'Self Residential',
            Created_From__c = 'Pre Login',
            //Current_Owner_Name__c = 'a0qC20000009UIDIA2',
            Customers_Residing__c = 'Yes',
            Distance_from_Branch__c = 15,
            Doc_Seen_Original_with__c = 'Customer',
            Document_Type__c = 'Settlement Deed',
            East_By_Boundaries_Physical__c = 'Vairamuthu house',
            Country__c = 'India',
            East_By_Land_Same_As_Document__c = true,
            East_By_Same_As_Document__c = true,
            East_by_boundaries__c = 'Vairamuthu house',
            East_by_land_measurements__c = 31.48,
            Existing_Encumberances__c = 'No',
            Extent_Sqft__c = 582.29,
            //External_Lawyer__c = '001C2000004K8brIAC',
            Flat_Plot_Number__c = '291',
            GuidelineValue_SqFt_asPer_LegalOpinion__c = 'NA',
            If_No_Reason__c = 'OK',
            Land_Area_AC_Check__c = true,
            Land_Area_Sq_Ft__c = 582,
            Land_Ownership__c = 'Self Acquired',
            Land_area_valuation_remarks__c = 'A] Mortgaged property is Ancestral land self construction',
            Landmark__c = 'near by water tank',
            Link_Doc_Date__c = Date.valueOf('2021-11-19'),
            Link_Doc_Status__c = 'Written in Title document but not seen',
            Link_Document_Type__c = 'Sale Deed',
            Link_Documents_in_Name_of__c = 'Chandramohan',
            Location_of_Mortgage_Property__c = 'Developing Area',
            Login_EC_Date_From__c = Date.valueOf('1987-01-01'),
            Login_EC_Date_Till__c = Date.valueOf('2022-08-03'),
            Login_EC_Number__c = 'NA',
            Login_EC_Type__c = 'Online EC',
            MS_Pincode__c = ms_pincodeObj.Id,
            Market_Value_Of_Property__c = 10000,
            Mortgage_Property_Area__c = 'Positive',
            Mortgage_Property_Remarks__c = 'Original Document is not available document with applicant local credit',
            Mortgage_property_Living_property_are__c = 'Yes',
            Mortgage_property_distance_from_branch__c = 6,
            Nature_Of_Property__c = 'Commercial',
            North_By_Boundaries_Physical__c = 'Pathway',
            North_By_Land_Same_As_Document__c = true,
            North_By_Same_As_Document__c = true,
            North_by_boundaries__c = 'Pathway',
            North_by_land_measurements__c = 19.02,
            Online_EC_Date_From__c = Date.valueOf('1987-01-01'),
            Online_EC_Date_Till__c = Date.valueOf('2023-01-16'),
            Online_EC_Status__c = 'Done',
            Online_Guideline_Value_Search__c = 'Done',
            Online_Guidelive_Value__c = '140',
            Original_Mortgage_Document__c = 'Local Money Lender -Un Registered',
            Overall_Land_Remarks__c = 'As per TN Guideline TOTAL land SQFT GLV value rs per sqft total value rs',
            Overall_Remarks__c = 'applicant un registered in local money lender',
            Ownership_Date__c = Date.valueOf('2023-01-17'),
            Ownership_Status__c = 'Joint',
            Pathway_Available__c = 'Yes',
            Percent_Share__c = 100,
            Pincode__c = ms_pincodeObj.Id,
            Plot_No__c = '34',
            Property_Address__c = 'OK',
            Property_Identified__c = 'Yes',
            Property_Location_Classification__c = 'Metro',
            Property_Ownership__c = 'Self Acquired',
            Property_Purchased_Type__c = 'Existing',
            Property_Purpose__c = 'Self Occupied',
            Property_Surrounding__c = 'VILLAGE AREA',
            Property_Type__c = 'Shop',
            Proposed_Area__c = '1',
            Registration_Status__c = 'Registered',
            Remarks__c = 'Ok',
            Remarks_land_measurements__c = 'Ok',
            Residual_Age_Of_Property__c = 'Less than 5 Years',
            Risk_Document__c = 'Green',
            South_By_Boundaries_Physical__c = 'Chandra mohan land',
            South_By_Land_Same_As_Document__c = true,
            South_By_Same_As_Document__c = true,
            South_by_boundaries__c = 'Chandra mohan land',
            South_by_land_measurements__c = 18.36,
            State__c = 'Tamil Nadu',
            Supporting_Document_SD__c = 'None',
            Survey_Number__c = '223/17',
            Taluka__c = 'TENKASI',
            Title_Deed_Date__c = Date.valueOf('2022-06-22'),
            Title_Deed_Number__c = '1685',
            Title_Deed_Type__c = 'Sale Deed',
            Title_Document_in_Name_of__c = 'ESAKKIMUTHU K',
            Valuation_Market_Value_Per_SqFt__c = 1420,
            Valuation_Remarks__c = 'Ok',
            Value_per_sq_ft__c = 689,
            Village__c = 'TENKASI',
            West_By_Boundaries_Physical__c = 'Velayutham house',
            West_By_Land_Same_As_Document__c = true,
            West_By_Same_As_Document__c = true,
            West_by_boundaries__c = 'Velayutham house',
            West_by_land_measurements__c = 30.83,
            hasRelatedRecords__c = true,
            isPrimaryOwner__c = true,
            Nature_of_Property_Code__c = 'COMMERCIAL',
            Property_Location_Classification_Code__c = 'Metro',
            Property_Purchased_Type_Code__c = 'Resale',
            Property_Type_Code__c = 'SHOP',
            LMS_Collateral_Number__c = 'GLBCOLL00000415032',
            East_By_Land_Physical__c = 31.48,
            North_By_Land_Physical__c = 19.02,
            South_By_Land_Physical__c = 18.36,
            West_By_Land_Physical__c = 30.83);
        insert propertyObj;
        
        Fee_Creation__c fee_creationObj = new Fee_Creation__c(
            Description__c = '212',
            Type__c = 'System',
            Fee_Amount__c = 423.73,
            Total_Fee__c = 500,
            Stage_Due__c = 'Pre Login',
            Application__c = applicationObj.Id,
            Applicable_on_Loan_Amount_Asset_Value__c = 'Loan Amount',
            Fee_Code__c = 'Cersai',
            Tax_Amount__c = 76.27,
            Repayment_Type_2__c = 'Direct Receipt');
        insert fee_creationObj;
        
        Fee_Type_Master__c fee_type_masterObj = new Fee_Type_Master__c(
            Name = 'IMD',
            Active__c = 'Yes',
            Amount__c = 'Amount',
            Applicable_For__c = 'Application',
            Calculation_Basis__c = 'Flat',
            Description__c = 'Legal IMD',
            Event__c = 'Application Login',
            API_Charge_Code__c = '999',
            Fee_Type__c = 'System',
            GL_Code__c = '3443',
            Modifiable_at_run_Time__c = 'Yes',
            Repayment_of_Fee__c = 'Direct Receipt',
            Stage_Due__c = 'Pre Disbursement',
            Tax__c = 'No',
            Type__c = 'Fee',
            Value__c = 'Loan Amount',
            Waivable__c = 'Yes',
            API_Charge_Code_Id__c = '16870725',
            Fee_Category__c = 'Other Charges');
        insert fee_type_masterObj;
        
        Fee_Creation__c fee_creationObj2 = new Fee_Creation__c(
            //RecordTypeId = FIVCRecordTypeId,
            Applicable_For__c = 'Application',
            Applicable_on_Loan_Amount_Asset_Value__c = 'Asset Value',
            Application__c = applicationObj.Id,
            Description__c = 'Test5_I',
            Fee_Amount__c = 84.75,
            Fee_Collection__c = 100,
            Fee_Type_Master__c = fee_type_masterObj.Id,
            Repayment_Type_2__c = 'Direct Receipt',
            Stage_Due__c = 'Login',
            Tax_Amount__c = 15.25,
            Total_Fee__c = 100,
            Type__c = 'System',
            Amount_Percentage__c = 100,
            Amount__c = 'Amount',
            Calculation_Basis__c = 'Flat',
            Event__c = 'Application Login',
            GL_Code__c = '3443',
            Receipt_Created__c = true,
            Stage__c = 'Pre Login',
            Tax__c = 'Inclusive',
            Value__c = 'Loan Amount',
            Waivable__c = 'Yes',
            Fee_Code__c = 'IMD');
        insert fee_creationObj2;
        
        Receipt__c receiptObj = new Receipt__c(
            Pre_Login__c = preLogin.Id,
            Application__c = applicationObj.Id,
            Amount__c = 100,
            Approval_Status__c = 'Approved',
            Approve_Reject_Comment__c = 'ok',
            //Cashier__c = '005C2000000mtjlIAA',
            Customer_name__c = 'MYLARAPU SURYANARAYANA REODY',
            Fee_Code__c = fee_creationObj2.Id,
            Loan_Purpose__c = '400000',
            Mode_of_payment__c = 'Cash',
            Receipt_Date__c = Date.valueOf('2022-10-10'),
            Receipt_Id__c = '19758236',
            Approval_Date__c = Date.valueOf('2022-10-20'),
            isApproved__c = true);
        insert receiptObj;
    }
    
    @IsTest
    public static void test(){
        List<String> receiptRecordIds = new List<String>();
        for(Receipt__c receiptRecord :[SELECT Id, Application__c FROM Receipt__c]) {
            receiptRecordIds.add(receiptRecord.Id);
        }
        
        Test.startTest();
        FS_LMS_ReceiptProcessAPI.receiptProcessCallout(receiptRecordIds);
        Test.stopTest();
    }
}